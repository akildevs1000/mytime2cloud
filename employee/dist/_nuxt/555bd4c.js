(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{972:function(t,o,e){"use strict";e.r(o);var n=e(706),r=(e(51),{layout:"guest",data:function(){return{responseData:"",email:"",password:""}},auth:!1,mounted:function(){this.verifyToken()},created:function(){},methods:{goToLoginPage:function(){var t=this;this.$axios.get("/logout").then((function(o){o.res;t.$auth.logout(),t.$router.push("/login")}))},verifyToken:function(){this.$route.query.email&&(this.email=this.$route.query.email,this.password=this.$route.query.password,this.email=decodeURIComponent(this.email),this.password=decodeURIComponent(this.password),this.email=this.$crypto.decrypt(this.email),this.password=this.$crypto.decrypt(this.password),this.loginWithOTP())},loginWithOTP:function(){var t=this;this.loading=!0;var o={email:this.email,password:this.password};this.$store.commit("email",this.email),this.$store.commit("password",this.password);var e=o;this.$axios.post("loginwith_otp",e).then((function(o){var data=o.data;data.status&&data.user_id?1==data.enable_whatsapp_otp?(t.dialogWhatsapp=!0,t.userId=data.user_id,data.mobile_number&&(t.maskMobileNumber=t.hideMobileNumber(data.mobile_number)),t.loading=!1):t.login():(alert("Login Details: "+data.message),t.login())})).catch((function(t){return console.log(t)})),this.loading=!1},login:function(){var t=this,o={email:this.email,password:this.password};this.$auth.loginWith("local",{data:o}).then((function(o){var e=o.data.token;t.$store.commit("login_token",e),t.$store.state.isDesktop?t.$router.push("/dashboard"):t.$router.push("/")})).catch((function(o){var e=o.response;if(!e)return!1;var n=e.status,data=e.data,r=e.statusText;t.msg=422==n?data.message:r,setTimeout((function(){return t.loading=!1}),2e3)}))}}}),l=e(72),component=Object(l.a)(r,(function(){var t=this,o=t._self._c;return o("div",[o("div",{staticStyle:{"font-size":"25px"}},[t._v("Loading.....please wait")]),t._v(" "),o(n.a,{staticClass:"btn btn-block fa-lg mt-1 mb-3 ml-5",staticStyle:{"background-color":"#6946dd",color:"#fff"},attrs:{small:""},on:{click:function(o){return t.goToLoginPage()}}},[t._v("\n    Click to Login Page\n  ")])],1)}),[],!1,null,null,null);o.default=component.exports}}]);