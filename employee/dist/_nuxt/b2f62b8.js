(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{724:function(t,e,n){var r=n(726).has;t.exports=function(t){return r(t),t}},725:function(t,e,n){var r=n(10),o=n(745),c=n(726),d=c.Map,l=c.proto,f=r(l.forEach),h=r(l.entries),m=h(new d).next;t.exports=function(map,t,e){return e?o(h(map),(function(e){return t(e[1],e[0])}),m):f(map,t)}},726:function(t,e,n){var r=n(10),o=Map.prototype;t.exports={Map:Map,set:r(o.set),get:r(o.get),has:r(o.has),remove:r(o.delete),proto:o}},727:function(t,e,n){n(742)},728:function(t,e,n){"use strict";var r=n(5),o=n(724),c=n(726).remove;r({target:"Map",proto:!0,real:!0,forced:!0},{deleteAll:function(){for(var t,e=o(this),n=!0,r=0,d=arguments.length;r<d;r++)t=c(e,arguments[r]),n=n&&t;return!!n}})},729:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{every:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!1!==d(map,(function(t,n){if(!e(t,n,map))return!1}),!0)}})},730:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(726),l=n(725),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{filter:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){e(t,r,map)&&h(n,r,t)})),n}})},731:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{find:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=d(map,(function(t,n){if(e(t,n,map))return{value:t}}),!0);return n&&n.value}})},732:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{findKey:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=d(map,(function(t,n){if(e(t,n,map))return{key:n}}),!0);return n&&n.key}})},733:function(t,e,n){"use strict";var r=n(5),o=n(746),c=n(724),d=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{includes:function(t){return!0===d(c(this),(function(e){if(o(e,t))return!0}),!0)}})},734:function(t,e,n){"use strict";var r=n(5),o=n(724),c=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{keyOf:function(t){var e=c(o(this),(function(e,n){if(e===t)return{key:n}}),!0);return e&&e.key}})},735:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(726),l=n(725),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapKeys:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){h(n,e(t,r,map),t)})),n}})},736:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(726),l=n(725),f=d.Map,h=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{mapValues:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0),n=new f;return l(map,(function(t,r){h(n,r,e(t,r,map))})),n}})},737:function(t,e,n){"use strict";var r=n(5),o=n(724),c=n(284),d=n(726).set;r({target:"Map",proto:!0,real:!0,arity:1,forced:!0},{merge:function(t){for(var map=o(this),e=arguments.length,i=0;i<e;)c(arguments[i++],(function(t,e){d(map,t,e)}),{AS_ENTRIES:!0});return map}})},738:function(t,e,n){"use strict";var r=n(5),o=n(73),c=n(724),d=n(725),l=TypeError;r({target:"Map",proto:!0,real:!0,forced:!0},{reduce:function(t){var map=c(this),e=arguments.length<2,n=e?void 0:arguments[1];if(o(t),d(map,(function(r,o){e?(e=!1,n=r):n=t(n,r,o,map)})),e)throw l("Reduce of empty map with no initial value");return n}})},739:function(t,e,n){"use strict";var r=n(5),o=n(96),c=n(724),d=n(725);r({target:"Map",proto:!0,real:!0,forced:!0},{some:function(t){var map=c(this),e=o(t,arguments.length>1?arguments[1]:void 0);return!0===d(map,(function(t,n){if(e(t,n,map))return!0}),!0)}})},740:function(t,e,n){"use strict";var r=n(5),o=n(73),c=n(724),d=n(726),l=TypeError,f=d.get,h=d.has,m=d.set;r({target:"Map",proto:!0,real:!0,forced:!0},{update:function(t,e){var map=c(this),n=arguments.length;o(e);var r=h(map,t);if(!r&&n<3)throw l("Updating absent value");var d=r?f(map,t):o(n>2?arguments[2]:void 0)(t,map);return m(map,t,e(d,t,map)),map}})},742:function(t,e,n){"use strict";n(743)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),n(744))},743:function(t,e,n){"use strict";var r=n(5),o=n(21),c=n(10),d=n(169),l=n(53),f=n(438),h=n(284),m=n(285),v=n(22),y=n(88),x=n(42),_=n(8),I=n(286),O=n(140),k=n(290);t.exports=function(t,e,n){var j=-1!==t.indexOf("Map"),w=-1!==t.indexOf("Weak"),A=j?"set":"add",M=o[t],D=M&&M.prototype,E=M,$={},S=function(t){var e=c(D[t]);l(D,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(w&&!x(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return w&&!x(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(w&&!x(t))&&e(this,0===t?0:t)}:function(t,n){return e(this,0===t?0:t,n),this})};if(d(t,!v(M)||!(w||D.forEach&&!_((function(){(new M).entries().next()})))))E=n.getConstructor(e,t,j,A),f.enable();else if(d(t,!0)){var T=new E,F=T[A](w?{}:-0,1)!=T,C=_((function(){T.has(1)})),P=I((function(t){new M(t)})),z=!w&&_((function(){for(var t=new M,e=5;e--;)t[A](e,e);return!t.has(-0)}));P||((E=e((function(t,e){m(t,D);var n=k(new M,t,E);return y(e)||h(e,n[A],{that:n,AS_ENTRIES:j}),n}))).prototype=D,D.constructor=E),(C||z)&&(S("delete"),S("has"),j&&S("get")),(z||F)&&S(A),w&&D.clear&&delete D.clear}return $[t]=E,r({global:!0,constructor:!0,forced:E!=M},$),O(E,t),w||n.setStrong(E,t,j),E}},744:function(t,e,n){"use strict";var r=n(98),o=n(139),c=n(440),d=n(96),l=n(285),f=n(88),h=n(284),m=n(287),v=n(288),y=n(289),x=n(31),_=n(438).fastKey,I=n(89),O=I.set,k=I.getterFor;t.exports={getConstructor:function(t,e,n,m){var v=t((function(t,o){l(t,y),O(t,{type:e,index:r(null),first:void 0,last:void 0,size:0}),x||(t.size=0),f(o)||h(o,t[m],{that:t,AS_ENTRIES:n})})),y=v.prototype,I=k(e),j=function(t,e,n){var r,o,c=I(t),d=w(t,e);return d?d.value=n:(c.last=d={index:o=_(e,!0),key:e,value:n,previous:r=c.last,next:void 0,removed:!1},c.first||(c.first=d),r&&(r.next=d),x?c.size++:t.size++,"F"!==o&&(c.index[o]=d)),t},w=function(t,e){var n,r=I(t),o=_(e);if("F"!==o)return r.index[o];for(n=r.first;n;n=n.next)if(n.key==e)return n};return c(y,{clear:function(){for(var t=I(this),data=t.index,e=t.first;e;)e.removed=!0,e.previous&&(e.previous=e.previous.next=void 0),delete data[e.index],e=e.next;t.first=t.last=void 0,x?t.size=0:this.size=0},delete:function(t){var e=this,n=I(e),r=w(e,t);if(r){var o=r.next,c=r.previous;delete n.index[r.index],r.removed=!0,c&&(c.next=o),o&&(o.previous=c),n.first==r&&(n.first=o),n.last==r&&(n.last=c),x?n.size--:e.size--}return!!r},forEach:function(t){for(var e,n=I(this),r=d(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!w(this,t)}}),c(y,n?{get:function(t){var e=w(this,t);return e&&e.value},set:function(t,e){return j(this,0===t?0:t,e)}}:{add:function(t){return j(this,t=0===t?0:t,t)}}),x&&o(y,"size",{configurable:!0,get:function(){return I(this).size}}),v},setStrong:function(t,e,n){var r=e+" Iterator",o=k(e),c=k(r);m(t,e,(function(t,e){O(this,{type:r,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=c(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?v("keys"==e?n.key:"values"==e?n.value:[n.key,n.value],!1):(t.target=void 0,v(void 0,!0))}),n?"entries":"values",!n,!0),y(e)}}},745:function(t,e,n){var r=n(29);t.exports=function(t,e,n){for(var o,c,d=n||t.next;!(o=r(d,t)).done;)if(void 0!==(c=e(o.value)))return c}},746:function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},757:function(t,e,n){n(5)({target:"Object",stat:!0},{is:n(442)})},759:function(t,e,n){"use strict";var r=n(31),o=n(112),c=n(61),d=n(65),l=n(139);r&&(l(Array.prototype,"lastItem",{configurable:!0,get:function(){var t=c(this),e=d(t);return 0==e?void 0:t[e-1]},set:function(t){var e=c(this),n=d(e);return e[0==n?0:n-1]=t}}),o("lastItem"))},809:function(t,e,n){"use strict";n.r(e);var r=n(955),o=(n(15),n(70),n(33),n(2)),c=(n(441),n(27),n(79),n(28),n(294),n(51),n(295),n(216),{data:function(){var t;return t={active_el:"",selectedItem:null,totalRowsCount:0},Object(o.a)(t,"selectedItem",{}),Object(o.a)(t,"datatable_search_textbox",""),Object(o.a)(t,"filter_employeeid",""),Object(o.a)(t,"snack",!1),Object(o.a)(t,"snackColor",""),Object(o.a)(t,"snackText",""),Object(o.a)(t,"content","\n        <h1>Yay Headlines!</h1>\n        <p>All these <strong>cool tags</strong> are working now.</p>\n          "),Object(o.a)(t,"scrollInvoked",0),Object(o.a)(t,"start_menu",!1),Object(o.a)(t,"end_menu",!1),Object(o.a)(t,"title",""),Object(o.a)(t,"des",""),Object(o.a)(t,"desDate",""),Object(o.a)(t,"dept",""),Object(o.a)(t,"options",{}),Object(o.a)(t,"Model","Announcement"),Object(o.a)(t,"endpoint","announcement"),Object(o.a)(t,"search",""),Object(o.a)(t,"snackbar",!1),Object(o.a)(t,"dialog",!1),Object(o.a)(t,"ids",[]),Object(o.a)(t,"departments",[]),Object(o.a)(t,"loading",!1),Object(o.a)(t,"total",0),Object(o.a)(t,"headers",[{text:"Title",align:"left",sortable:!0,key:"title",value:"title",fieldType:"text"},{text:"Description",align:"left",sortable:!0,key:"description",value:"description",fieldType:"text"},{text:"Date Range",align:"left",sortable:!1,key:"date_range",value:"start_date",fieldType:"date_range_picker"},{text:"Category",align:"left",sortable:!1,key:"categories",value:"category",fieldType:"dropdown"}]),Object(o.a)(t,"editedIndex",-1),Object(o.a)(t,"editedItem",{title:"",description:"",departments:[],employees:[],start_date:null,end_date:null}),Object(o.a)(t,"defaultItem",{title:"",description:"",departments:[],employees:[],start_date:null,end_date:null}),Object(o.a)(t,"response",""),Object(o.a)(t,"data",[]),Object(o.a)(t,"errors",[]),Object(o.a)(t,"options_dialog",{}),Object(o.a)(t,"employees_dialog",[]),Object(o.a)(t,"selectAllDepartment",!1),Object(o.a)(t,"selectAllEmployee",!1),t},computed:{formTitle:function(){return-1===this.editedIndex?"New":"Edit"},getCurrentDate:function(){var t=new Date,e=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0");return"".concat(e,"-").concat(n,"-").concat(r)},isIndeterminateDepartment:function(){return this.editedItem.departments.length>0&&this.editedItem.departments.length<this.departments.length},isIndeterminateEmployee:function(){return this.editedItem.employees.length>0&&this.editedItem.employees.length<this.employees_dialog.length}},watch:{selectAllDepartment:function(t){this.editedItem.departments=t?this.departments.map((function(t){return t.id})):[]},selectAllEmployee:function(t){this.editedItem.employees=t?this.employees_dialog.map((function(t){return t.id})):[]},dialog:function(t){t||this.close(),this.errors=[],this.search=""},options:{handler:function(){},deep:!0}},created:function(){this.loading=!0,this.getDataFromApi()},methods:{showContent:function(t){this.active_el=t.id,this.selectedItem=t},getUserPic:function(t){return null==t.user?"/no-profile-image.jpg":t.user&&"company"==t.user.user_type?t.user.company.logo:t.user&&"employee"==t.user.user_type?t.user.employee.profile_picture||"/no-profile-image.jpg":void 0},datatable_cancel:function(){this.datatable_search_textbox=""},datatable_open:function(){this.datatable_search_textbox=""},datatable_close:function(){this.loading=!1},toggleDepartmentSelection:function(){this.selectAllDepartment=!this.selectAllDepartment},toggleEmployeeSelection:function(){this.selectAllEmployee=!this.selectAllEmployee},onScroll:function(){this.scrollInvoked++},getDepartments:function(){var t=this,e={params:{per_page:1e3,company_id:this.$auth.user.company_id}};this.$axios.get("departments",e).then((function(e){var data=e.data;t.departments=data.data}))},employeesByDepartment:function(){var t=this;this.loading_dialog=!0;var e=this.options_dialog,n=e.page,r=e.itemsPerPage,o={params:{department_ids:this.editedItem.departments,per_page:r,page:n,company_id:this.$auth.user.company_id}};this.editedItem.departments.length?this.$axios.get("employeesByDepartment",o).then((function(e){var data=e.data;t.employees_dialog=data.data,t.loading_dialog=!1})):this.getEmployees()},logout:function(){var t=this;this.$axios.get("/logout").then((function(e){e.res;t.$auth.logout(),t.$router.push("/login")}))},getDataFromApi:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.endpoint,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!this.$auth.user.employee)return this.logout(),!1;""==e&&(e=this.endpoint),this.loading=!0;var o=this.options,c=o.page,d=(o.itemsPerPage,this.$auth.user.company_id);""!=n&&(options.params[n]=r),this.$axios.get("employee-announcements/".concat(this.$auth.user.employee.id,"?page=").concat(c||1,"&company_id=").concat(d,"&per_page=").concat(1e4)).then((function(e){var data=e.data;if(""!=n&&0==data.data.length)return t.snack=!0,t.snackColor="error",t.snackText="No Results Found",t.loading=!1,!1;data.data[0]&&t.showContent(data.data[0]),t.data=data.data,t.total=data.total,t.loading=!1,t.totalRowsCount=data.total}))},searchIt:function(t){0==t.length?this.getDataFromApi():t.length>2&&this.getDataFromApi("".concat(this.endpoint,"/search/").concat(t))},editItem:function(t){this.editedIndex=this.data.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0,this.editedItem.departments=t.departments.map((function(t){return t.id})),this.editedItem.employees=t.employees.map((function(t){return t.id}))},delteteSelectedRecords:function(){var t=this;confirm("Are you sure you wish to delete selected records , to mitigate any inconvenience in future.")&&this.$axios.post("".concat(this.endpoint,"/delete/selected"),{ids:this.ids.map((function(t){return t.id}))}).then((function(e){var data=e.data;data.status?(t.snackbar=data.status,t.ids=[],t.response="Selected records has been deleted"):t.errors=data.errors,t.getDataFromApi()})).catch((function(t){return console.log(t)}))},deleteItem:function(t){var e=this;confirm("Are you sure you wish to delete , to mitigate any inconvenience in future.")&&this.$axios.delete(this.endpoint+"/"+t.id).then((function(t){var data=t.data;data.status?(e.getDataFromApi(),e.snackbar=data.status,e.response=data.message):e.errors=data.errors})).catch((function(t){return console.log(t)}))},close:function(){var t=this;this.dialog=!1,setTimeout((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}),300)},getEmployees:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"employee";this.loading=!0;var n=this.options,r=n.page,o={params:{per_page:n.itemsPerPage,company_id:this.$auth.user.company_id}};this.$axios.get("".concat(e,"?page=").concat(r),o).then((function(e){var data=e.data;t.employees_dialog=data.data}))},save:function(){var t=this;this.editedItem.company_id=this.$auth.user.company_id,this.editedIndex>-1?this.$axios.put(this.endpoint+"/"+this.editedItem.id,this.editedItem).then((function(e){var data=e.data;if(data.status){var n=t.data.findIndex((function(e){return e.id==t.editedItem.id}));t.data.splice(n,1,{id:t.editedItem.id,name:t.editedItem.name}),t.getDataFromApi(),t.snackbar=data.status,t.response=data.message,t.close()}else t.errors=data.errors})).catch((function(t){return console.log(t)})):this.$axios.post(this.endpoint,this.editedItem).then((function(e){var data=e.data;data.status?(t.getDataFromApi(),t.snackbar=data.status,t.response=data.message,t.close(),t.errors=[],t.search=""):t.errors=data.errors})).catch((function(t){return console.log(t)}))}}}),d=c,l=n(72),component=Object(l.a)(d,(function(){var t=this,e=t._self._c;return e(r.a,{class:t.$isDark()?"accent custom-dark-header-for-datatable":"light-background custom-light-header-for-datatable",attrs:{"calculate-widths":"","item-key":"id",headers:t.headers,items:t.data,loading:t.loading,options:t.options,"footer-props":{itemsPerPageOptions:[10,50,100,500,1e3]},"server-items-length":t.totalRowsCount},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"item.description",fn:function(n){var r=n.item;return[e("div",{domProps:{innerHTML:t._s(r.description)}})]}},{key:"item.category",fn:function(n){var r,o,c=n.item;return[e("span",{style:t.$util.getPriorityColor(null==c||null===(r=c.category)||void 0===r?void 0:r.name)},[t._v(t._s(null==c||null===(o=c.category)||void 0===o?void 0:o.name))])]}}]),model:{value:t.ids,callback:function(e){t.ids=e},expression:"ids"}})}),[],!1,null,null,null);e.default=component.exports}}]);