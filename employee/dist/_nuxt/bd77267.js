(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{990:function(t,e,n){"use strict";n.r(e);n(26),n(445),n(51),n(303);var r={props:{temperature:{type:Number,default:18.2}},data:function(){return{currentValue:0,chart:null}},mounted:function(){if(window.Chart)this.initChart();else{var script=document.createElement("script");script.src="/scripts/chart.js",script.onload=this.initChart,document.head.appendChild(script)}},methods:{initChart:function(){var t=this,e=document.getElementById("myChart").getContext("2d"),n=e.createLinearGradient(0,0,300,0);n.addColorStop(0,"green"),n.addColorStop(.5,"yellow"),n.addColorStop(1,"red");var r={id:"gaugeNeedle",afterDraw:function(e){var n=e.ctx,r=e.chartArea.width/2,o=12.5,l=Math.PI+t.currentValue/100*Math.PI,d=r+150*Math.cos(l),c=220+150*Math.sin(l),h=r,m=l+Math.PI/2,f=l-Math.PI/2,v=h+Math.cos(m)*o,w=220+Math.sin(m)*o;Math.cos(f),Math.sin(f);n.save(),n.shadowColor="rgba(0, 0, 0, 0.3)",n.shadowBlur=5,n.beginPath(),n.moveTo(v,w),n.arc(h,220,o,m,f,!1),n.lineTo(d,c),n.closePath(),n.fillStyle="#03c3ec",n.fill(),n.beginPath(),n.shadowBlur=0,n.arc(r,220,8,0,2*Math.PI),n.fill(),n.restore()}},o={type:"doughnut",data:{labels:["Low","Medium","High",""],datasets:[{data:[100],backgroundColor:[n],borderWidth:0,cutout:"80%",circumference:270,rotation:225}]},options:{responsive:!0,plugins:{legend:{display:!1},tooltip:{enabled:!1}}},plugins:[r]};this.chart=new window.Chart(e,o),this.animateNeedle(this.temperature),this.counterUp(this.temperature)},animateNeedle:function(t){var e=this;!function animate(){var n=t-e.currentValue;if(Math.abs(n)<.1)return e.currentValue=t,void e.chart.update();e.currentValue+=n/2,e.chart.update(),requestAnimationFrame(animate)}()},counterUp:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,element=document.getElementById("temperature"),r=0,o=t/n,l=setInterval((function(){if((r+=o)>=t)element.innerHTML="".concat(t.toFixed(2)," <small>C</small>"),clearInterval(l);else{var e=t<10?"00.00":(Math.round(100*r)/100).toFixed(2);element.innerHTML="".concat(e," <small>C</small>")}}),e/n)}}},o=r,l=n(72),component=Object(l.a)(o,(function(){this._self._c;return this._m(0)}),[function(){var t=this,e=t._self._c;return e("span",[e("style",{attrs:{scoped:""}},[t._v("\n    .chartBox {\n      margin: 0 auto;\n      width: 300px;\n      padding: 20px;\n      border-radius: 20px;\n      position: relative;\n    }\n    #temperature {\n      color: #fff;\n      position: absolute;\n      top: 250px;\n      font-size: 35px;\n      left: 90px;\n    }\n  ")]),t._v(" "),e("div",{staticClass:"chartBox text-center"},[e("canvas",{attrs:{id:"myChart",width:"300",height:"300"}}),t._v(" "),e("div",{attrs:{id:"temperature"}})])])}],!1,null,null,null);e.default=component.exports}}]);